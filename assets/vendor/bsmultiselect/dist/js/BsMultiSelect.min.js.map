{"version":3,"sources":["../../js/src/MultiSelect.js","../../js/src/Tools.js","../../js/src/Bs4StylingMethodCss.js","../../js/src/Bs4StylingMethodJs.js","../../js/src/Bs4Styling.js","../../js/src/Bs4SelectedItemContent.js","../../js/src/BsMultiSelect.js","../../js/src/AddToJQueryPrototype.js","../../js/src/OptionsAdapters.js","../../js/src/LabelAdapter.js","../../js/src/Bs4DropDownItemContent.js"],"names":["MultiSelect","optionsAdapter","styling","selectedItemContentFactory","dropDownItemContentFactory","labelAdapter","createStylingComposite","configuration","onDispose","window","Popper","TypeError","this","container","document","selectedPanel","filterInputItem","filterInput","dropDownMenu","popper","getDisabled","stylingComposite","selectedPanelClick","documentMouseup","containerMousedown","documentMouseup2","disabled","filterInputItemOffsetLeft","skipFocusout","hoveredMultiSelectData","hoveredMultiSelectDataIndex","hasDropDownVisible","MultiSelectDataList","MultiSelectDataSelectedTail","init","updateDropDownPosition","force","offsetLeft","update","hideDropDown","style","display","showDropDown","resetDropDownMenuHover","HoverOut","dropDownMenuItemElement","filterDropDownMenu","text","value","trim","toLowerCase","visible","i","length","MultiSelectData","option","selected","hidden","searchText","indexOf","visibleNodeListArray","getVisibleMultiSelectDataList","hoverInInternal","clearFilterInput","updatePosition","input","closeDropDown","removeSelectedFromList","selectedPrev","selectedNext","appendDropDownItem","_this","createElement","appendChild","dropDownItemContent","isDisabled","disabledStyle","disable","toggle","selectedItemElement","remove","push","onSelected","focus","selectItem","doPublishEvents","adjustPair","isSelected","select","removeItem","parentNode","removeChild","triggerChange","bsSelectedItemContent","setTimeout","event","preventDefaultMultiSelectEvent","insertBefore","addEventListener","HoverIn","visibleMultiSelectDataList","multiSelectData","index","keydownArrow","down","newIndex","forceUpdatePosition","width","Update","UpdateIsValid","getIsValid","getIsInvalid","UpdateSize","UpdateDisabled","Dispose","removeEventListener","createDropDownItems","dispose","destroy","itarate","_this2","Disable","Enable","_this3","s","flexWrap","listStyleType","defSelectedPanelStyleSys","setAttribute","border","padding","outline","backgroundColor","defFilterInputStyleSys","defDropDownMenuStyleSys","target","contains","Init","afterContainerFilled","placement","modifiers","preventOverflow","enabled","hide","flip","options","readyState","FocusIn","FocusOut","which","preventDefault","ExtendIfUndefined","destination","source","property","undefined","defaults","selectedPanelFocusClass","selectedPanelDisabledClass","dropDownItemDisabledClass","defSelectedPanelStyle","margin-bottom","height","selectedPanelDefMinHeight","selectedPanelLgMinHeight","selectedPanelSmMinHeight","selectedPanelDisabledBackgroundColor","selectedPanelFocusBorderColor","selectedPanelFocusBoxShadow","selectedPanelFocusValidBoxShadow","selectedPanelFocusInvalidBoxShadow","filterInputColor","containerClass","dropDownMenuClass","dropDownItemClass","dropDownItemHoverClass","selectedPanelClass","selectedItemClass","removeSelectedItemButtonClass","filterInputItemClass","filterInputClass","$","defSelectedItemStyle","padding-left","line-height","defRemoveSelectedItemButtonStyle","font-size","pluginName","createPlugin","firstChar","charAt","firstCharLower","prototypableName","slice","noConflictPrototypable","fn","dataKey","prototypable","each","$e","instance","data","isMethodName","test","removeData","methodName","noConflict","AddToJQueryPrototype","element","settings","extend","buildConfiguration","$element","trigger","eventName","firstChild","OptionsAdapterJson","createInputId","id","label","$formGroup","closest","$label","find","get","getAttribute","selectElement","getElementsByTagName","nextSibling","classList","OptionsAdapterElement","name","backupedFor","newId","LabelAdapter","adapter","stylingMethod","composite","$container","addClass","$selectedPanel","$dropDownMenu","$filterInputItem","$filterInput","OnInit","isValid","isInvalid","dropDownItem","removeClass","Bs4Styling","useCss","Bs4StylingMethodCss","css","hasClass","Bs4StylingMethodJs","stylingAdapter2","selectedItemContentDisabledClass","disableSelectedItemContent","$content","Bs4SelectedItemContentStylingMethodCss","selectedItemContentDisabledOpacity","createSelectedItemContent","$selectedItem","$button","Bs4SelectedItemContentStylingMethodJs","stylingAdapter3","$checkBox","$checkBoxLabel","isDisbaled","Bs4DropDownItemContentStylingMethodCss","dropdDownLabelDisabledColor","Bs4DropDownItemContentStylingMethodJs","bs4SelectedItemContent","selectedItem","optionItem","removeSelectedItem","preventDefaultMultiSelect","appendTo","on","jqEvent","originalEvent","prop","Bs4SelectedItemContent","bs4DropDownItemContent","$dropDownItem","$dropDownItemContent","Bs4DropDownItemContent"],"mappings":"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","sourcesContent":["import Popper from 'popper.js'\r\n\r\nfunction defSelectedPanelStyleSys(s) {s.display='flex'; s.flexWrap='wrap'; s.listStyleType='none'};  // remove bullets since this is ul\r\nfunction defFilterInputStyleSys(s) {s.width='2ch'; s.border='0'; s.padding='0'; s.outline='none'; s.backgroundColor='transparent' };\r\nfunction defDropDownMenuStyleSys(s) {s.listStyleType='none'}; // remove bullets since this is ul\r\n\r\n\r\nclass MultiSelect {\r\n    constructor(optionsAdapter, styling, selectedItemContentFactory, dropDownItemContentFactory, labelAdapter, \r\n        createStylingComposite,\r\n        configuration, onDispose, window) {\r\n        if (typeof Popper === 'undefined') {\r\n            throw new TypeError('DashboardCode BsMultiSelect require Popper.js (https://popper.js.org)')\r\n        }\r\n        // readonly\r\n        this.optionsAdapter = optionsAdapter;\r\n        this.container = optionsAdapter.container; // part of published api\r\n        this.styling = styling;\r\n        this.labelAdapter=labelAdapter;\r\n        this.window = window;\r\n        this.document = window.document;\r\n        this.onDispose=onDispose;\r\n        this.createStylingComposite=createStylingComposite;\r\n        \r\n        this.configuration = configuration;\r\n        \r\n        this.selectedPanel = null;\r\n        this.filterInputItem = null;\r\n        this.filterInput = null;\r\n        this.dropDownMenu = null;\r\n        this.popper = null;\r\n        this.getDisabled=null;\r\n        this.stylingComposite = null;\r\n\r\n        // removable handlers\r\n        this.selectedPanelClick  = null;\r\n        this.documentMouseup = null;\r\n        this.containerMousedown = null;\r\n        this.documentMouseup2 = null;\r\n        \r\n        // state\r\n        this.disabled = null;\r\n        this.filterInputItemOffsetLeft = null; // used to detect changes in input field position (by comparision with current value)\r\n        this.skipFocusout = false;\r\n        this.hoveredMultiSelectData = null;\r\n        this.hoveredMultiSelectDataIndex = null;\r\n        this.hasDropDownVisible = false;\r\n        this.selectedItemContentFactory=selectedItemContentFactory;\r\n        this.dropDownItemContentFactory=dropDownItemContentFactory;\r\n        this.MultiSelectDataList = [];\r\n        this.MultiSelectDataSelectedTail = null;\r\n\r\n        this.init();\r\n    }\r\n\r\n    updateDropDownPosition(force) {\r\n        let offsetLeft = this.filterInputItem.offsetLeft;\r\n        if (force || this.filterInputItemOffsetLeft!=offsetLeft){\r\n            this.popper.update();\r\n            this.filterInputItemOffsetLeft=offsetLeft;\r\n        }\r\n    }\r\n\r\n    hideDropDown() {\r\n        this.dropDownMenu.style.display = 'none';\r\n    }\r\n\r\n    showDropDown() {\r\n        this.dropDownMenu.style.display = 'block';\r\n    }\r\n\r\n    resetDropDownMenuHover() {\r\n        if (this.hoveredMultiSelectData !== null) {\r\n            this.styling.HoverOut(this.hoveredMultiSelectData.dropDownMenuItemElement);\r\n            this.hoveredMultiSelectData = null;\r\n            this.hoveredMultiSelectDataIndex = null;\r\n        }\r\n    }\r\n\r\n    filterDropDownMenu() {\r\n        let text = this.filterInput.value.trim().toLowerCase();\r\n        let visible = 0;\r\n        for(let i=0; i<this.MultiSelectDataList.length; i++)\r\n        {   \r\n            let MultiSelectData = this.MultiSelectDataList[i];\r\n\r\n            let dropDownMenuItemElement = MultiSelectData.dropDownMenuItemElement;\r\n            \r\n            if (text == '') {\r\n                MultiSelectData.visible = true;\r\n                dropDownMenuItemElement.style.display='block';\r\n                visible++;\r\n            }\r\n            else {\r\n                let option = MultiSelectData.option; \r\n                if (!option.selected && !option.hidden && !option.disabled && MultiSelectData.searchText.indexOf(text)>=0) {\r\n                    MultiSelectData.visible = true;\r\n                    dropDownMenuItemElement.style.display='block';\r\n                    visible++;\r\n                } else {\r\n                    MultiSelectData.visible = false;\r\n                    dropDownMenuItemElement.style.display='none';\r\n                }\r\n            }\r\n        }\r\n        this.hasDropDownVisible = visible > 0;\r\n        this.resetDropDownMenuHover();\r\n        if (visible == 1) {\r\n            let visibleNodeListArray = this.getVisibleMultiSelectDataList();\r\n            this.hoverInInternal(visibleNodeListArray, 0)\r\n        }\r\n    }\r\n\r\n    clearFilterInput(updatePosition) {\r\n        if (this.filterInput.value) {\r\n            this.filterInput.value = '';\r\n            this.input(updatePosition);\r\n        }\r\n    }\r\n\r\n    closeDropDown() {\r\n        this.resetDropDownMenuHover();\r\n        this.clearFilterInput(true);\r\n        this.hideDropDown();\r\n    }\r\n    \r\n    removeSelectedFromList(MultiSelectData){\r\n        if (MultiSelectData.selectedPrev){\r\n            (MultiSelectData.selectedPrev).selectedNext = MultiSelectData.selectedNext;\r\n        }\r\n        if (MultiSelectData.selectedNext){\r\n           (MultiSelectData.selectedNext).selectedPrev = MultiSelectData.selectedPrev;\r\n        }\r\n        if (this.MultiSelectDataSelectedTail == MultiSelectData)\r\n        {\r\n            this.MultiSelectDataSelectedTail = MultiSelectData.selectedPrev;\r\n        }\r\n        MultiSelectData.selectedNext=null;\r\n        MultiSelectData.selectedPrev=null;\r\n    }\r\n\r\n    appendDropDownItem(option) {\r\n        var dropDownMenuItemElement=this.document.createElement('LI');\r\n        dropDownMenuItemElement.hidden=option.hidden;\r\n        \r\n        this.dropDownMenu.appendChild(dropDownMenuItemElement); \r\n        let dropDownItemContent = this.dropDownItemContentFactory(dropDownMenuItemElement, option); \r\n\r\n        let isDisabled = option.disabled;\r\n        let isSelected = option.selected;\r\n\r\n        if (isSelected && isDisabled)\r\n            dropDownItemContent.disabledStyle(true);\r\n        else if (isDisabled)\r\n            dropDownItemContent.disable(isDisabled);\r\n\r\n        var MultiSelectData={\r\n            searchText: option.text.toLowerCase().trim(), \r\n            option:option, \r\n            dropDownMenuItemElement:dropDownMenuItemElement,\r\n            dropDownItemContent:dropDownItemContent,\r\n            selectedPrev: null,\r\n            selectedNext: null,\r\n            visible: true,\r\n            toggle:null,\r\n            selectedItemElement: null,\r\n            remove:null,\r\n            disable:null,\r\n        };\r\n\r\n        this.MultiSelectDataList.push(MultiSelectData);\r\n       \r\n        dropDownItemContent.onSelected(() => {\r\n            MultiSelectData.toggle();\r\n            this.filterInput.focus();\r\n        });\r\n        \r\n        let selectItem = (doPublishEvents) => {\r\n            if (option.hidden)\r\n                return;\r\n            var selectedItemElement = this.document.createElement('LI');\r\n            MultiSelectData.selectedItemElement = selectedItemElement;\r\n            \r\n            if (this.MultiSelectDataSelectedTail){\r\n                this.MultiSelectDataSelectedTail.selectedNext = MultiSelectData;\r\n                MultiSelectData.selectedPrev=this.MultiSelectDataSelectedTail;\r\n            }\r\n            this.MultiSelectDataSelectedTail=MultiSelectData; \r\n            \r\n            let adjustPair =(isSelected, toggle, remove, disable) => {\r\n                option.selected = isSelected;\r\n                dropDownItemContent.select(isSelected);\r\n                MultiSelectData.toggle=toggle;\r\n                MultiSelectData.remove=remove;\r\n                MultiSelectData.disable=disable;\r\n            }\r\n\r\n            let removeItem = () => {\r\n                dropDownItemContent.disabledStyle(false);\r\n                dropDownItemContent.disable(option.disabled);\r\n                adjustPair(\r\n                    false, \r\n                    () => {\r\n                        if (option.disabled)\r\n                            return;\r\n                        selectItem(true);\r\n                    }, \r\n                    null,\r\n                    null\r\n                    );\r\n                selectedItemElement.parentNode.removeChild(selectedItemElement);\r\n                \r\n                this.removeSelectedFromList(MultiSelectData);\r\n\r\n                this.optionsAdapter.triggerChange();\r\n            };\r\n            \r\n            // what is a problem with calling removeSelectedItem directly (not using  setTimeout(removeSelectedItem, 0)):\r\n            // consider situation \"MultiSelect\" on DROPDOWN (that should be closed on the click outside dropdown)\r\n            // therefore we aslo have document's click's handler where we decide to close or leave the DROPDOWN open.\r\n            // because of the event's bubling process removeSelectedItem runs first. \r\n            // that means the event's target element on which we click (the x button) will be removed from the DOM together with badge \r\n            // before we could analize is it belong to our dropdown or not.\r\n            // important 1: we can't just the stop propogation using stopPropogate because click outside dropdown on the similar \r\n            // component that use stopPropogation will not close dropdown (error, dropdown should be closed)\r\n            // important 2: we can't change the dropdown's event handler to leave dropdown open if event's target is null because of\r\n            // the situation described above: click outside dropdown on the same component.\r\n            // Alternatively it could be possible to use stopPropogate but together create custom click event setting new target that belomgs to DOM (e.g. panel)\r\n\r\n            let removeItemAndCloseDropDown = () => {\r\n                removeItem();\r\n                this.closeDropDown();\r\n            };\r\n\r\n            let onRemoveItemEvent = () => {\r\n                setTimeout( ()=> {  \r\n                    removeItem();\r\n                    this.closeDropDown();\r\n                }, 0);\r\n            };\r\n\r\n            let preventDefaultMultiSelect = (event) => {\r\n                this.preventDefaultMultiSelectEvent=event;\r\n            }\r\n\r\n            let bsSelectedItemContent = this.selectedItemContentFactory(\r\n                selectedItemElement,\r\n                option,\r\n                onRemoveItemEvent,\r\n                preventDefaultMultiSelect\r\n            );\r\n\r\n            bsSelectedItemContent.disable(this.disabled);\r\n            adjustPair(true, ()=>removeItem(), removeItemAndCloseDropDown, bsSelectedItemContent.disable);\r\n\r\n            this.selectedPanel.insertBefore(selectedItemElement, this.filterInputItem);\r\n            if (doPublishEvents){\r\n                this.optionsAdapter.triggerChange();\r\n            }\r\n        }\r\n\r\n        dropDownMenuItemElement.addEventListener('mouseover', () => \r\n             this.styling.HoverIn(dropDownMenuItemElement));\r\n        dropDownMenuItemElement.addEventListener('mouseout', () =>             \r\n             this.styling.HoverOut(dropDownMenuItemElement));\r\n        \r\n        if (option.selected)\r\n            selectItem(false);\r\n        else\r\n            MultiSelectData.toggle= () => { \r\n                if (option.disabled)\r\n                    return;\r\n                selectItem(true);\r\n            }\r\n    }\r\n    getVisibleMultiSelectDataList(){\r\n        let visibleMultiSelectDataList = [];\r\n        for(let i=0; i<this.MultiSelectDataList.length; i++){\r\n            var multiSelectData = this.MultiSelectDataList[i];\r\n            if (multiSelectData.visible && !multiSelectData.option.hidden)\r\n                visibleMultiSelectDataList.push(multiSelectData);\r\n        }\r\n        return visibleMultiSelectDataList; \r\n    }\r\n    hoverInInternal(visibleMultiSelectDataList, index){\r\n        this.hoveredMultiSelectDataIndex = index;\r\n        this.hoveredMultiSelectData = visibleMultiSelectDataList[index];\r\n        this.styling.HoverIn(this.hoveredMultiSelectData.dropDownMenuItemElement);\r\n    }\r\n    keydownArrow(down) {\r\n        let visibleMultiSelectDataList = this.getVisibleMultiSelectDataList();\r\n        if (visibleMultiSelectDataList.length > 0) {\r\n            if (this.hasDropDownVisible) {\r\n                this.updateDropDownPosition(true);\r\n                this.showDropDown();\r\n            }\r\n            let index;\r\n            if (this.hoveredMultiSelectData === null) {\r\n                index = down ? 0 : visibleMultiSelectDataList.length - 1;\r\n            }\r\n            else {\r\n                this.styling.HoverOut(this.hoveredMultiSelectData.dropDownMenuItemElement);\r\n                if (down) {\r\n                    let newIndex = this.hoveredMultiSelectDataIndex + 1;\r\n                    index = newIndex < visibleMultiSelectDataList.length ? newIndex : 0;\r\n                } else {\r\n                    let newIndex = this.hoveredMultiSelectDataIndex - 1;\r\n                    index = newIndex >= 0 ? newIndex : visibleMultiSelectDataList.length - 1;\r\n                }\r\n            }\r\n            this.hoverInInternal(visibleMultiSelectDataList, index);\r\n        }\r\n    }\r\n    input(forceUpdatePosition) {\r\n        this.filterInput.style.width = this.filterInput.value.length*1.3 + 2 + \"ch\";\r\n        this.filterDropDownMenu();\r\n\r\n        if (this.hasDropDownVisible) {\r\n            if (forceUpdatePosition) // ignore it if it is called from\r\n                this.updateDropDownPosition(forceUpdatePosition); // we need it to support case when textbox changes its place because of line break (texbox grow with each key press)\r\n            this.showDropDown();\r\n        } else {\r\n            this.hideDropDown();\r\n        }\r\n    }\r\n    Update(){\r\n        this.styling.UpdateIsValid(this.stylingComposite, this.optionsAdapter.getIsValid(), this.optionsAdapter.getIsInvalid());\r\n        this.UpdateSize();\r\n        this.UpdateDisabled();\r\n    }\r\n    Dispose(){\r\n        if (this.onDispose)\r\n            this.onDispose(); // primary used to remove from jQuery tables\r\n        \r\n        // removable handlers\r\n        this.document.removeEventListener(\"mouseup\", this.documentMouseup);\r\n        this.document.removeEventListener(\"mouseup\", this.documentMouseup2);\r\n        this.document.removeEventListener(\"DOMContentLoaded\", this.createDropDownItems);\r\n        this.container.removeEventListener(\"mousedown\", this.containerMousedown);\r\n        \r\n        this.labelAdapter.dispose();\r\n        \r\n        if (this.popper) {\r\n            this.popper.destroy()\r\n        }\r\n        \r\n        if (this.optionsAdapter.dispose) {\r\n            this.optionsAdapter.dispose();\r\n        }\r\n    }\r\n    UpdateSize(){\r\n        if (this.styling.UpdateSize)\r\n            this.styling.UpdateSize(this.stylingComposite);\r\n    }\r\n\r\n    UpdateDisabled(){\r\n        let disabled = this.optionsAdapter.getDisabled();\r\n        let itarate = (isDisabled)=>{\r\n            let i = this.MultiSelectDataSelectedTail;\r\n            while(i){\r\n                i.disable(isDisabled); \r\n                i = i.selectedPrev;\r\n            }\r\n        }\r\n        if (this.disabled!==disabled){\r\n            if (disabled) {\r\n                this.filterInput.style.display = \"none\";\r\n                this.styling.Disable(this.stylingComposite);\r\n                itarate(true);\r\n                    \r\n                this.container.removeEventListener(\"mousedown\", this.containerMousedown);\r\n                this.document.removeEventListener(\"mouseup\", this.documentMouseup);\r\n                \r\n                this.selectedPanel.removeEventListener(\"click\", this.selectedPanelClick);\r\n                this.document.removeEventListener(\"mouseup\", this.documentMouseup2);\r\n            } else {\r\n                this.filterInput.style.display = \"inline-block\";\r\n                this.styling.Enable(this.stylingComposite);\r\n                itarate(false);\r\n\r\n                this.container.addEventListener(\"mousedown\", this.containerMousedown);\r\n                this.document.addEventListener(\"mouseup\", this.documentMouseup);\r\n                \r\n                this.selectedPanel.addEventListener(\"click\", this.selectedPanelClick);\r\n                this.document.addEventListener(\"mouseup\", this.documentMouseup2);\r\n            }\r\n            this.disabled=disabled;\r\n        }\r\n    }\r\n\r\n    init() {\r\n        let container = this.optionsAdapter.container;\r\n        this.selectedPanel = this.document.createElement('UL');\r\n        defSelectedPanelStyleSys(this.selectedPanel.style); \r\n        container.appendChild(this.selectedPanel);\r\n        \r\n        this.filterInputItem = this.document.createElement('LI');\r\n        this.selectedPanel.appendChild(this.filterInputItem);\r\n        \r\n        this.filterInput = document.createElement('INPUT'); \r\n        this.filterInput.setAttribute(\"type\",\"search\");\r\n        this.filterInput.setAttribute(\"autocomplete\",\"off\");\r\n        \r\n        defFilterInputStyleSys(this.filterInput.style);\r\n        this.filterInputItem.appendChild(this.filterInput);\r\n\r\n        this.dropDownMenu = document.createElement('UL');\r\n        this.dropDownMenu.style.display=\"none\";\r\n        container.appendChild(this.dropDownMenu);\r\n        \r\n        // prevent heavy understandable styling error\r\n        defDropDownMenuStyleSys(this.dropDownMenu.style);\r\n       \r\n        this.documentMouseup = () => {\r\n            this.skipFocusout = false;\r\n        }\r\n\r\n        this.containerMousedown = () => {\r\n            this.skipFocusout = true;\r\n        };\r\n\r\n        this.documentMouseup2 = event => {\r\n            if (!(container === event.target || container.contains(event.target))) {\r\n                this.closeDropDown();\r\n            }\r\n        }\r\n\r\n        this.selectedPanelClick = event => {\r\n            if (event.target != this.filterInput)\r\n            {   \r\n                this.filterInput.value='';\r\n                this.filterInput.focus();\r\n            }\r\n            if (this.hasDropDownVisible &&  \r\n                ( this.preventDefaultMultiSelectEvent != event)){\r\n                this.updateDropDownPosition(true);\r\n                this.showDropDown();\r\n            }\r\n            this.preventDefaultMultiSelectEvent=null;\r\n        };\r\n\r\n        this.stylingComposite = this.createStylingComposite(container, this.selectedPanel,\r\n            this.filterInputItem, this.filterInput, this.dropDownMenu);\r\n        \r\n        this.styling.Init(this.stylingComposite);\r\n        \r\n        this.labelAdapter.init(this.filterInput); \r\n\r\n        if (this.optionsAdapter.afterContainerFilled)\r\n            this.optionsAdapter.afterContainerFilled();\r\n        this.popper = new Popper(this.filterInput, this.dropDownMenu, {\r\n            placement: 'bottom-start',\r\n            modifiers: {\r\n                preventOverflow: {enabled:false},\r\n                hide: {enabled:false},\r\n                flip: {enabled:false}\r\n                }\r\n        });\r\n        \r\n        this.styling.UpdateIsValid(this.stylingComposite, this.optionsAdapter.getIsValid(), this.optionsAdapter.getIsInvalid());\r\n        \r\n        this.UpdateSize();\r\n        this.UpdateDisabled();\r\n        \r\n        this.createDropDownItems = ()=>{\r\n            let options = this.optionsAdapter.options;\r\n            for(let i =0; i<options.length; i++) {\r\n                this.appendDropDownItem(options[i]);\r\n            }\r\n            this.hasDropDownVisible = options.length > 0;\r\n            this.updateDropDownPosition(false);\r\n        }\r\n\r\n        // some browsers (IE11) can change select value (as part of \"autocomplete\") after page is loaded but before \"ready\" event\r\n        if (this.document.readyState != 'loading'){\r\n            this.createDropDownItems();\r\n        } else {\r\n            this.document.addEventListener('DOMContentLoaded', this.createDropDownItems); // IE9+\r\n        }\r\n        // there was unmotivated stopPropagation call. commented out.\r\n        // $dropDownMenu.click(  event => { \r\n        //    event.stopPropagation();\r\n        // });\r\n        this.dropDownMenu.addEventListener('mouseover', () => \r\n             this.resetDropDownMenuHover());\r\n\r\n        this.filterInput.addEventListener('focusin', () => \r\n            this.styling.FocusIn(this.stylingComposite))\r\n        \r\n        this.filterInput.addEventListener('focusout', () => {\r\n            if (!this.skipFocusout)\r\n                this.styling.FocusOut(this.stylingComposite)\r\n            });\r\n\r\n        this.filterInput.addEventListener('keydown', (event) => {\r\n            if ([38, 40, 13].indexOf(event.which)>=0 || (event.which == 9 && this.filterInput.value) ) {\r\n                event.preventDefault();\r\n            }\r\n\r\n            if (event.which == 38) {\r\n                this.keydownArrow(false);\r\n            }\r\n            else if (event.which == 40) {\r\n                if (this.hoveredMultiSelectData === null && this.hasDropDownVisible) {\r\n                    this.showDropDown();\r\n                }\r\n                this.keydownArrow(true);\r\n            }\r\n            else if (event.which == 9) {\r\n                if (!this.filterInput.value) {\r\n                    this.closeDropDown();\r\n                }\r\n            }\r\n            else if (event.which == 8) {\r\n                // NOTE: this will process backspace only if there are no text in the input field\r\n                // If user will find this inconvinient, we will need to calculate something like this\r\n                // this.isBackspaceAtStartPoint = (this.filterInput.selectionStart == 0 && this.filterInput.selectionEnd == 0);\r\n                if (!this.filterInput.value)\r\n                { \r\n                    if (this.MultiSelectDataSelectedTail){ \r\n                        this.MultiSelectDataSelectedTail.remove();\r\n                    }\r\n                    this.updateDropDownPosition(false);\r\n                }\r\n            }\r\n\r\n            if ([38, 40, 13, 9].indexOf(event.which)==-1)\r\n                this.resetDropDownMenuHover();\r\n        });\r\n        this.filterInput.addEventListener('keyup', (event) => {\r\n            if (event.which == 13 || event.which == 9 ) {\r\n                if (this.hoveredMultiSelectData) {\r\n                    this.hoveredMultiSelectData.toggle();\r\n                    this.closeDropDown();\r\n                } \r\n                /*\r\n                // it seems we do not need this - unique full match is always hoovered (and covered by previous condition)\r\n                \r\n                else {\r\n                    let text = this.filterInput.value.trim().toLowerCase();\r\n                    let fullMatchMultiSelectData = null;\r\n                    for (let i = 0; i < this.MultiSelectDataList.length; i++) {\r\n                        let multiSelectData = this.MultiSelectDataList[i];\r\n                        if (multiSelectData.searchText == text)\r\n                        {\r\n                            fullMatchMultiSelectData=multiSelectData;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (fullMatchMultiSelectData) {\r\n                        if (! fullMatchMultiSelectData.option.selected){\r\n                            fullMatchMultiSelectData.toggle();\r\n                        }\r\n                        this.clearFilterInput(true);\r\n                    }\r\n                }*/\r\n            }\r\n            // TODO support \"space\" when there is left only one ?\r\n\r\n            else if (event.which == 27) { // escape\r\n                this.closeDropDown();\r\n            }\r\n        });\r\n        this.filterInput.addEventListener('input', () => {\r\n            this.input(true);\r\n        });\r\n    }\r\n}\r\n\r\nexport default MultiSelect;\r\n","export function ExtendIfUndefined(destination, source) {\r\n    for (var property in source)\r\n        if (destination[property] === undefined)\r\n            destination[property] = source[property];\r\n}\r\n\r\nexport function ExtendIfUndefinedFluent(destination, source) {\r\n    ExtendIfUndefined(destination, source);\r\n    return destination;\r\n}","import  { ExtendIfUndefined } from './Tools';\r\n\r\nconst defaults = {\r\n    selectedPanelFocusClass : 'focus',\r\n    selectedPanelDisabledClass: 'disabled',\r\n    dropDownItemDisabledClass: 'disabled'\r\n};\r\n\r\nfunction Bs4StylingMethodCss(configuration){\r\n    ExtendIfUndefined(configuration, defaults);\r\n\r\n    return {\r\n        Enable($selectedPanel){\r\n            $selectedPanel.removeClass(configuration.selectedPanelDisabledClass)\r\n        },\r\n    \r\n        Disable($selectedPanel){\r\n            $selectedPanel.addClass(configuration.selectedPanelDisabledClass)\r\n        },\r\n    \r\n        FocusIn($selectedPanel){\r\n            $selectedPanel.addClass(configuration.selectedPanelFocusClass);\r\n        },\r\n    \r\n        FocusOut($selectedPanel){\r\n            $selectedPanel.removeClass(configuration.selectedPanelFocusClass);\r\n        }\r\n    }\r\n}\r\n\r\nexport default Bs4StylingMethodCss;\r\n","import  { ExtendIfUndefined } from './Tools';\r\n\r\nconst defSelectedPanelStyle = {'margin-bottom': '0', 'height': 'auto'};\r\n\r\nconst defaults = {\r\n    selectedPanelDefMinHeight: 'calc(2.25rem + 2px)',\r\n    selectedPanelLgMinHeight:  'calc(2.875rem + 2px)',\r\n    selectedPanelSmMinHeight:  'calc(1.8125rem + 2px)',\r\n    selectedPanelDisabledBackgroundColor: '#e9ecef',\r\n    selectedPanelFocusBorderColor: '#80bdff',\r\n    selectedPanelFocusBoxShadow: '0 0 0 0.2rem rgba(0, 123, 255, 0.25)',\r\n    selectedPanelFocusValidBoxShadow: '0 0 0 0.2rem rgba(40, 167, 69, 0.25)',\r\n    selectedPanelFocusInvalidBoxShadow: '0 0 0 0.2rem rgba(220, 53, 69, 0.25)',\r\n    filterInputColor: '#495057',\r\n    //selectedItemContentDisabledOpacity: '.65'\r\n};\r\n\r\nfunction Bs4StylingMethodJs(configuration){\r\n    ExtendIfUndefined(configuration, defaults);\r\n\r\n    return {\r\n        OnInit(composite){\r\n            composite.$selectedPanel.css(defSelectedPanelStyle);\r\n            composite.$filterInput.css(\"color\", configuration.filterInputColor);\r\n        },\r\n    \r\n        UpdateSize($selectedPanel){\r\n            if ($selectedPanel.hasClass(\"form-control-lg\")){\r\n                $selectedPanel.css(\"min-height\", configuration.selectedPanelLgMinHeight);\r\n            } else if ($selectedPanel.hasClass(\"form-control-sm\")){\r\n                $selectedPanel.css(\"min-height\", configuration.selectedPanelSmMinHeight);\r\n            } else {\r\n                $selectedPanel.css(\"min-height\", configuration.selectedPanelDefMinHeight);\r\n            }\r\n        },\r\n    \r\n        Enable($selectedPanel){\r\n            $selectedPanel.css(\"background-color\", \"\")\r\n        },\r\n    \r\n        Disable($selectedPanel){\r\n            $selectedPanel.css(\"background-color\", configuration.selectedPanelDisabledBackgroundColor)\r\n        },\r\n    \r\n        FocusIn($selectedPanel){\r\n            if ($selectedPanel.hasClass(\"is-valid\")){\r\n                $selectedPanel.css(\"box-shadow\", configuration.selectedPanelFocusValidBoxShadow);\r\n            } else if ($selectedPanel.hasClass(\"is-invalid\")){\r\n                $selectedPanel.css(\"box-shadow\", configuration.selectedPanelFocusInvalidBoxShadow);\r\n            } else {\r\n                $selectedPanel\r\n                    .css(\"box-shadow\", configuration.selectedPanelFocusBoxShadow)\r\n                    .css(\"border-color\", configuration.selectedPanelFocusBorderColor);\r\n            }\r\n        },\r\n    \r\n        FocusOut($selectedPanel){\r\n                $selectedPanel.css(\"box-shadow\", \"\" ).css(\"border-color\", \"\")\r\n        },\r\n    }\r\n}\r\n\r\n\r\nexport default Bs4StylingMethodJs;\r\n","import  { ExtendIfUndefined } from './Tools';\r\n\r\n// addClass, removeClass, css, siblings('label'), hasClass, find('BUTTON').prop(..)\r\nconst defaults = {\r\n    containerClass: 'dashboardcode-bsmultiselect',\r\n    dropDownMenuClass: 'dropdown-menu',\r\n    dropDownItemClass:  'px-2',\r\n    dropDownItemHoverClass: 'text-primary bg-light',\r\n    selectedPanelClass: 'form-control',\r\n    selectedItemClass: 'badge',\r\n    removeSelectedItemButtonClass: 'close',\r\n    filterInputItemClass: '',\r\n    filterInputClass: ''\r\n}\r\n\r\nfunction Bs4Styling(stylingMethod, configuration, $) {\r\n    ExtendIfUndefined(configuration, defaults);\r\n\r\n    return{\r\n        Init(composite){\r\n            composite.$container.addClass(configuration.containerClass);\r\n            composite.$selectedPanel.addClass(configuration.selectedPanelClass);\r\n            composite.$dropDownMenu.addClass(configuration.dropDownMenuClass);\r\n            composite.$filterInputItem.addClass(configuration.filterInputItemClass);\r\n            composite.$filterInput.addClass(configuration.filterInputClass);\r\n            if (stylingMethod.OnInit)\r\n                stylingMethod.OnInit(composite)\r\n        },\r\n\r\n        UpdateIsValid(composite, isValid, isInvalid){\r\n            if (isValid)\r\n                composite.$selectedPanel.addClass('is-valid');\r\n\r\n            if (isInvalid)\r\n                composite.$selectedPanel.addClass('is-invalid');\r\n        },\r\n\r\n        UpdateSize(composite){\r\n            if(stylingMethod.UpdateSize)\r\n               stylingMethod.UpdateSize(composite.$selectedPanel)\r\n        },\r\n\r\n        Enable(composite){\r\n            stylingMethod.Enable(composite.$selectedPanel)\r\n        },\r\n\r\n        Disable(composite){\r\n            stylingMethod.Disable(composite.$selectedPanel)\r\n        },\r\n\r\n        FocusIn(composite){\r\n            stylingMethod.FocusIn(composite.$selectedPanel)\r\n        },\r\n\r\n        FocusOut(composite){\r\n            stylingMethod.FocusOut(composite.$selectedPanel)\r\n        },\r\n\r\n        HoverIn(dropDownItem){\r\n            $(dropDownItem).addClass(configuration.dropDownItemHoverClass);\r\n        },\r\n\r\n        HoverOut(dropDownItem){\r\n            $(dropDownItem).removeClass(configuration.dropDownItemHoverClass);\r\n        }\r\n    }\r\n}\r\n\r\nexport default Bs4Styling;\r\n","import  { ExtendIfUndefined } from './Tools';\r\n\r\nfunction Bs4SelectedItemContentStylingMethodCss(configuration) {\r\n    const defaults = {\r\n            selectedItemContentDisabledClass: 'disabled',\r\n    };\r\n    ExtendIfUndefined(configuration, defaults);\r\n\r\n    return {\r\n        disableSelectedItemContent($content){\r\n            $content.addClass(configuration.selectedItemContentDisabledClass )\r\n        }\r\n    }\r\n}\r\n\r\nconst defSelectedItemStyle = {'padding-left': '0px', 'line-height': '1.5em'};\r\nconst defRemoveSelectedItemButtonStyle = {'font-size':'1.5em', 'line-height': '.9em'};\r\n\r\nfunction Bs4SelectedItemContentStylingMethodJs(configuration) {\r\n    const defaults = {\r\n       selectedItemContentDisabledOpacity: '.65',\r\n    };\r\n    ExtendIfUndefined(configuration, defaults);\r\n    \r\n    return {\r\n        disableSelectedItemContent($content){\r\n            $content.css(\"opacity\", configuration.selectedItemContentDisabledOpacity )\r\n        },\r\n    \r\n        createSelectedItemContent($selectedItem, $button){\r\n            $selectedItem.css(defSelectedItemStyle);\r\n            if ($button)\r\n                $button.css(defRemoveSelectedItemButtonStyle);\r\n        }\r\n    }\r\n}\r\n\r\nfunction Bs4SelectedItemContent(stylingMethod, configuration, $) {\r\n        const defaults = {\r\n            selectedItemClass: 'badge',\r\n            removeSelectedItemButtonClass: 'close'\r\n        };\r\n        ExtendIfUndefined(configuration, defaults);\r\n        \r\n        return function (selectedItem, optionItem, removeSelectedItem, preventDefaultMultiSelect){\r\n                let $selectedItem = $(selectedItem)\r\n                $selectedItem.addClass(configuration.selectedItemClass);\r\n                let $content = $(`<span/>`).text(optionItem.text);\r\n                $content.appendTo($selectedItem);\r\n                if (optionItem.disabled)\r\n                    stylingMethod.disableSelectedItemContent($content);\r\n                let $button = $('<button aria-label=\"Close\" tabIndex=\"-1\" type=\"button\"><span aria-hidden=\"true\">&times;</span></button>')\r\n                    // bs 'close' class that will be added to button set the float:right, therefore it impossible to configure no-warp policy \r\n                    // with .css(\"white-space\", \"nowrap\") or  .css(\"display\", \"inline-block\"); TODO: migrate to flex? \r\n                    .css(\"float\", \"none\").appendTo($selectedItem)\r\n                    .addClass(configuration.removeSelectedItemButtonClass) // bs close class set the float:right\r\n                    .on(\"click\", (jqEvent) => \r\n                        { removeSelectedItem(); preventDefaultMultiSelect(jqEvent.originalEvent);});\r\n                \r\n                if (stylingMethod.createSelectedItemContent)\r\n                    stylingMethod.createSelectedItemContent($selectedItem, $button);\r\n                return {\r\n                    disable(isDisabled){ $button.prop('disabled', isDisabled); }\r\n                };\r\n            }\r\n    \r\n}\r\n\r\nexport { Bs4SelectedItemContent as Bs4SelectedItemContent, Bs4SelectedItemContentStylingMethodJs, Bs4SelectedItemContentStylingMethodCss};\r\n","import $ from 'jquery'\r\n\r\nimport MultiSelect from './MultiSelect'\r\nimport LabelAdapter from './LabelAdapter';\r\nimport {OptionsAdapterJson,OptionsAdapterElement} from './OptionsAdapters';\r\n\r\nimport Bs4StylingMethodCss from './Bs4StylingMethodCss'\r\nimport Bs4StylingMethodJs from './Bs4StylingMethodJs'\r\nimport Bs4Styling from './Bs4Styling';\r\nimport AddToJQueryPrototype from './AddToJQueryPrototype'\r\n\r\nimport { Bs4SelectedItemContent, Bs4SelectedItemContentStylingMethodJs, Bs4SelectedItemContentStylingMethodCss} from './Bs4SelectedItemContent';\r\nimport { Bs4DropDownItemContent, Bs4DropDownItemContentStylingMethodJs, Bs4DropDownItemContentStylingMethodCss } from './Bs4DropDownItemContent';\r\n\r\n(\r\n    (window, $) => {\r\n        AddToJQueryPrototype('BsMultiSelect',\r\n            (element, settings, onDispose) => {\r\n                let configuration = $.extend({}, settings); // settings used per jQuery intialization, configuration per element\r\n                if (configuration.buildConfiguration)\r\n                    configuration.buildConfiguration(element, configuration);\r\n                var $element= $(element);\r\n                let optionsAdapter = null;\r\n                if (configuration.optionsAdapter)\r\n                    optionsAdapter = configuration.optionsAdapter;\r\n                else\r\n                {\r\n                    var trigger = function(eventName){\r\n                        $element.trigger(eventName);\r\n                    }\r\n                    if (configuration.options){\r\n                        optionsAdapter = OptionsAdapterJson(element, configuration.options, \r\n                            configuration.getDisabled, configuration.getIsValid, configuration.getIsInvalid,\r\n                            trigger );\r\n                        if (!configuration.createInputId)\r\n                            configuration.createInputId=()=>`${configuration.containerClass}-generated-filter-${element.id}`;\r\n            \r\n                    }else {\r\n                        if (!configuration.label)\r\n                        {\r\n                            let $formGroup = $(element).closest('.form-group');\r\n                            if ($formGroup.length == 1) {\r\n                                let $label = $formGroup.find(`label[for=\"${element.id}\"]`);\r\n                                if ($label.length>0)\r\n                                {   \r\n                                    let label = $label.get(0);\r\n                                    let forId = label.getAttribute('for');\r\n                                    if (forId == element.id) {\r\n                                        configuration.label = label;\r\n                                    }\r\n                                }   \r\n                            }\r\n                        }\r\n                        optionsAdapter = OptionsAdapterElement(element, trigger);\r\n                        if (!configuration.createInputId)\r\n                            configuration.createInputId=()=>`${configuration.containerClass}-generated-input-${((element.id)?element.id:element.name).toLowerCase()}-id`;\r\n                    }\r\n                }\r\n\r\n                let labelAdapter = LabelAdapter(configuration.label, configuration.createInputId);\r\n\r\n                let adapter=null;\r\n                if (configuration.adapter)\r\n                    adapter = configuration.adapter;\r\n                else\r\n                {\r\n                    let stylingMethod = configuration.useCss\r\n                        ? Bs4StylingMethodCss(configuration)\r\n                        : Bs4StylingMethodJs(configuration);\r\n                    adapter = Bs4Styling(stylingMethod, configuration, $);\r\n                }\r\n\r\n                let stylingAdapter2 = configuration.useCss\r\n                    ? Bs4SelectedItemContentStylingMethodCss(configuration, $)\r\n                    : Bs4SelectedItemContentStylingMethodJs(configuration, $);\r\n                let stylingAdapter3 = configuration.useCss\r\n                    ? Bs4DropDownItemContentStylingMethodCss(configuration, $)\r\n                    : Bs4DropDownItemContentStylingMethodJs(configuration, $);\r\n                let bs4SelectedItemContent = Bs4SelectedItemContent(stylingAdapter2, configuration, $);\r\n                let bs4DropDownItemContent = Bs4DropDownItemContent(stylingAdapter3, configuration, $)\r\n\r\n                let createStylingComposite = function(container, selectedPanel, filterInputItem, filterInput, dropDownMenu){\r\n                    return {\r\n                        $container:$(container), $selectedPanel:$(selectedPanel),\r\n                        $filterInputItem:$(filterInputItem), $filterInput:$(filterInput),\r\n                        $dropDownMenu:$(dropDownMenu)\r\n                        };\r\n                }\r\n                let multiSelect = new MultiSelect(optionsAdapter, adapter, bs4SelectedItemContent, bs4DropDownItemContent, \r\n                    labelAdapter, createStylingComposite, configuration, onDispose, window);\r\n                return multiSelect;\r\n            }, $);\r\n    }\r\n)(window, $)\r\n","function AddToJQueryPrototype(pluginName, createPlugin, $){\r\n    const firstChar = pluginName.charAt(0);\r\n    const firstCharLower = firstChar.toLowerCase();\r\n    if (firstCharLower == firstChar) {\r\n        throw new TypeError(`Plugin name '${pluginName}' should be started from upper case char`)\r\n    }\r\n    const prototypableName = firstCharLower + pluginName.slice(1)\r\n    const noConflictPrototypable = $.fn[prototypableName];\r\n    const dataKey = `DashboardCode.${pluginName}`;\r\n\r\n    function prototypable(options) {\r\n        return this.each( function () {\r\n            let $e = $(this);\r\n            let instance = $e.data(dataKey)\r\n            let isMethodName = typeof options === 'string';\r\n            if (!instance) {\r\n                if (isMethodName && /Dispose/.test(options)) {\r\n                    return;\r\n                }\r\n                const optionsObject = (typeof options === 'object')?options:null;\r\n\r\n                instance = createPlugin(this, optionsObject,\r\n                    () => {\r\n                        $e.removeData(dataKey)\r\n                    });\r\n                $e.data(dataKey, instance);\r\n            }\r\n\r\n            if (isMethodName) {\r\n                let methodName = options;\r\n                if (typeof instance[methodName] === 'undefined') {\r\n                    throw new TypeError(`No method named '${methodName}'`)\r\n                }\r\n                instance[methodName]()\r\n            }\r\n        })\r\n    }\r\n\r\n    $.fn[prototypableName] = prototypable;\r\n\r\n    // pluginName with first capitalized letter - return plugin instance for 1st $selected item\r\n    $.fn[pluginName] = function () {\r\n        return $(this).data(dataKey);\r\n    };\r\n\r\n    $.fn[prototypableName].noConflict = function () {\r\n        $.fn[prototypableName] = noConflictPrototypable\r\n        return prototypable;\r\n    }\r\n}\r\n\r\nexport default AddToJQueryPrototype\r\n","function OptionsAdapterJson(container, options, getDisabled, getIsValid, getIsInvalid, trigger) {\r\n    return {\r\n        container,\r\n        options,\r\n        dispose(){\r\n            while (container.firstChild) container.removeChild(container.firstChild);\r\n        },\r\n        triggerChange(){\r\n            trigger('multiselect:change');\r\n        },\r\n        getDisabled(){\r\n            return getDisabled?getDisabled():false;\r\n        },\r\n        getIsValid(){\r\n            return getIsValid?getIsValid():false;\r\n        },\r\n        getIsInvalid(){\r\n            return getIsInvalid?getIsInvalid():false;\r\n        }\r\n    }\r\n}\r\n\r\nfunction OptionsAdapterElement(selectElement, trigger) {\r\n    selectElement.style.display='none';\r\n    var container = document.createElement('div');\r\n    var options = selectElement.getElementsByTagName('OPTION');\r\n    return {\r\n        container,\r\n        options,\r\n        dispose(){\r\n            container.parentNode.removeChild(container);\r\n        },\r\n        afterContainerFilled(){\r\n            selectElement.parentNode.insertBefore(container, selectElement.nextSibling);\r\n        },\r\n        triggerChange(){\r\n            trigger('change');\r\n            trigger('multiselect:change');\r\n        },\r\n        getDisabled(){\r\n            return selectElement.disabled;\r\n        },\r\n        getIsValid(){\r\n            return selectElement.classList.contains('is-valid');\r\n        },\r\n        getIsInvalid(){\r\n            return selectElement.classList.contains('is-invalid');\r\n        }\r\n    }\r\n}\r\n\r\nexport {OptionsAdapterJson, OptionsAdapterElement};\r\n","function LabelAdapter(label, createInputId){\r\n    var backupedFor = null; // state saved between init and dispose\r\n    return {\r\n        init(filterInput) {\r\n            if (label) {\r\n                backupedFor = label.getAttribute('for');\r\n                var newId = createInputId();\r\n                filterInput.setAttribute('id', newId);\r\n                label.setAttribute('for',newId);\r\n            }\r\n        },\r\n        dispose(){\r\n            if(backupedFor)\r\n                label.setAttribute('for',backupedFor);\r\n        }\r\n    }\r\n}\r\n\r\nexport default LabelAdapter;","import  { ExtendIfUndefined} from './Tools';\r\n\r\nfunction Bs4DropDownItemContentStylingMethodCss(configuration) {\r\n    const defaults = {\r\n            selectedItemContentDisabledClass: 'disabled',\r\n    };\r\n    ExtendIfUndefined(configuration, defaults);\r\n    return {\r\n        disabledStyle($checkBox, $checkBoxLabel, isDisbaled){\r\n            if (isDisbaled) \r\n                $checkBox.addClass(configuration.dropDownItemDisabledClass);\r\n            else\r\n                $checkBox.removeClass(configuration.dropDownItemDisabledClass);\r\n        }\r\n    }\r\n}\r\n\r\nfunction Bs4DropDownItemContentStylingMethodJs(configuration) {\r\n    const defaults = {\r\n            selectedItemContentDisabledOpacity: '.65',\r\n            dropdDownLabelDisabledColor: '#6c757d'\r\n    };\r\n    ExtendIfUndefined(configuration, defaults);\r\n    return{\r\n        disabledStyle($checkBox, $checkBoxLabel, isDisbaled){\r\n            $checkBoxLabel.css('color', isDisbaled?configuration.dropdDownLabelDisabledColor:'')\r\n        }\r\n    }\r\n}\r\n\r\nfunction Bs4DropDownItemContent(stylingMethod, configuration, $) {\r\n    const defaults = {\r\n            dropDownItemClass:  'px-2',\r\n    }\r\n    ExtendIfUndefined(configuration, defaults);\r\n    return function(dropDownItem, option){\r\n                let $dropDownItem = $(dropDownItem);\r\n                $dropDownItem.addClass(configuration.dropDownItemClass);\r\n                let $dropDownItemContent= $(`<div class=\"custom-control custom-checkbox\">\r\n                    <input type=\"checkbox\" class=\"custom-control-input\">\r\n                    <label class=\"custom-control-label\"></label>\r\n                </div>`);\r\n                $dropDownItemContent.appendTo(dropDownItem);\r\n                let $checkBox = $dropDownItemContent.find(`INPUT[type=\"checkbox\"]`);\r\n                let $checkBoxLabel = $dropDownItemContent.find(`label`);\r\n                $checkBoxLabel.text(option.text);\r\n\r\n                return { \r\n                    select(isSelected){ $checkBox.prop('checked', isSelected); }, \r\n                    disable(isDisabled){ $checkBox.prop('disabled', isDisabled); },\r\n                    disabledStyle(isDisbaled){ stylingMethod.disabledStyle($checkBox, $checkBoxLabel, isDisbaled); },\r\n                    onSelected(toggle) {\r\n                        $checkBox.on(\"change\", toggle)\r\n                        $dropDownItem.on(\"click\", event => {\r\n                            if (dropDownItem === event.target || $.contains(dropDownItem, event.target)) {\r\n                                toggle();\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n}\r\n\r\nexport { Bs4DropDownItemContent, Bs4DropDownItemContentStylingMethodJs, Bs4DropDownItemContentStylingMethodCss };"]}